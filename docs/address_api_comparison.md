# 주소 검색 API 비교: 카카오 vs 네이버

## 📊 주요 비교 항목

### 1. 무료 할당량

| 항목 | 카카오 주소 검색 API | 네이버 지도 API |
|------|---------------------|----------------|
| **무료 제공량** | 일 10만 건 | 월 300만 건 (Geocoding) |
| **월간 무료량** | 약 300만 건 (일 10만 × 30일) | 월 300만 건 |
| **과금 체계** | 일 단위 | 월 단위 |
| **초과 시** | 건당 과금 | 건당 과금 |

**결론**: 무료 할당량은 비슷하지만, **네이버가 월 단위로 관리**되어 더 예측 가능합니다.

---

### 2. 안정성

| 항목 | 카카오 | 네이버 |
|------|--------|--------|
| **장애 이력** | 2022년 10월 대규모 장애 (서비스 중단) | 상대적으로 안정적 |
| **서비스 가용성** | 높음 (일반적으로) | 높음 |
| **백업 계획** | 필요 시 네이버로 전환 가능 | - |

**결론**: **네이버가 더 안정적**입니다. 카카오는 과거 대규모 장애 이력이 있습니다.

---

### 3. 주소 검색 정확도

| 항목 | 카카오 | 네이버 |
|------|--------|--------|
| **한국 주소 체계** | 우수 | 우수 |
| **신규 주소 반영** | 빠름 | 빠름 |
| **오래된 주소** | 양호 | 양호 |
| **건물명 검색** | 지원 | 지원 |
| **도로명/지번 주소** | 모두 지원 | 모두 지원 |

**결론**: 두 API 모두 **정확도는 비슷**합니다. 한국 주소 체계를 잘 반영합니다.

---

### 4. 개발 편의성

#### 카카오 주소 검색 API
- ✅ **장점**:
  - 간단한 REST API
  - JSON 응답 구조가 직관적
  - 개발자 문서가 잘 정리됨
  - 예제 코드가 풍부함
- ⚠️ **단점**:
  - API 키 발급이 다소 복잡할 수 있음

#### 네이버 지도 API
- ✅ **장점**:
  - 네이버 클라우드 플랫폼 통합
  - 다양한 지도 기능 제공 (필요 시)
  - 안정적인 인프라
- ⚠️ **단점**:
  - 클라우드 플랫폼 가입 필요
  - API 구조가 다소 복잡할 수 있음

**결론**: **카카오가 개발 편의성 면에서 약간 유리**합니다.

---

### 5. 추가 기능

#### 카카오 주소 검색 API
- 주소 검색
- 좌표 변환 (Geocoding/Reverse Geocoding)
- 카테고리별 장소 검색 (필요 시)

#### 네이버 지도 API
- 주소 검색
- 좌표 변환
- **지도 표시 기능** (추가 비용 없이 사용 가능)
- 경로 검색 (필요 시)

**결론**: **네이버가 지도 표시까지 포함**되어 있어 확장성이 좋습니다.

---

### 6. 비용 (초과 시)

| 항목 | 카카오 | 네이버 |
|------|--------|--------|
| **주소 검색 초과** | 건당 약 0.1원 | 건당 약 0.1원 |
| **지도 표시** | 별도 과금 | 무료 할당량 내 포함 |

**결론**: 비용은 비슷하지만, **지도 기능이 필요하면 네이버가 유리**합니다.

---

## 🎯 한의사 방문 진료 앱에 적합한 선택

### 앱의 특성
- ✅ 주소 입력이 **핵심 기능** (방문 진료이므로)
- ✅ 정확한 주소가 **매우 중요**
- ✅ 사용 빈도는 **중간 정도** (예약 시에만)
- ✅ 안정성이 중요 (서비스 중단 시 예약 불가)
- ⚠️ 향후 지도 표시 기능 추가 가능성

### 추천: **네이버 지도 API** 🏆

#### 추천 이유

1. **안정성 우선**
   - 카카오의 과거 장애 이력 고려
   - 의료 서비스는 안정성이 최우선

2. **월 단위 관리**
   - 예약 앱은 사용 빈도가 예측 가능
   - 월 단위 할당량이 관리하기 편함

3. **확장성**
   - 향후 지도 표시 기능 추가 시 추가 비용 없음
   - 한의사 위치 표시 등에 활용 가능

4. **한국 시장 점유율**
   - 네이버 지도는 한국에서 널리 사용됨
   - 사용자들이 네이버 지도에 익숙함

---

## 📝 구현 시 고려사항

### 네이버 지도 API 사용 시

#### 장점
- ✅ 안정적인 서비스
- ✅ 지도 기능까지 포함 (무료 할당량 내)
- ✅ 월 단위 할당량 관리 용이

#### 단점
- ⚠️ 네이버 클라우드 플랫폼 가입 필요
- ⚠️ API 구조가 다소 복잡할 수 있음

#### 구현 예시
```dart
// 네이버 지도 API 주소 검색
final response = await http.get(
  Uri.parse('https://naveropenapi.apigw.ntruss.com/map-geocode/v2/geocode'),
  headers: {
    'X-NCP-APIGW-API-KEY-ID': 'YOUR_CLIENT_ID',
    'X-NCP-APIGW-API-KEY': 'YOUR_CLIENT_SECRET',
  },
  queryParameters: {
    'query': addressQuery,
  },
);
```

---

### 카카오 주소 검색 API 사용 시

#### 장점
- ✅ 개발 편의성 높음
- ✅ 간단한 API 구조
- ✅ 풍부한 문서와 예제

#### 단점
- ⚠️ 과거 장애 이력
- ⚠️ 지도 기능은 별도 과금

#### 구현 예시
```dart
// 카카오 주소 검색 API
final response = await http.get(
  Uri.parse('https://dapi.kakao.com/v2/local/search/address.json'),
  headers: {
    'Authorization': 'KakaoAK YOUR_REST_API_KEY',
  },
  queryParameters: {
    'query': addressQuery,
  },
);
```

---

## 🔄 하이브리드 접근 (권장)

### 최선의 방법: **네이버를 주로, 카카오를 백업으로**

```dart
class AddressSearchService {
  Future<List<Address>> searchAddress(String query) async {
    try {
      // 1차: 네이버 API 시도
      return await _searchWithNaver(query);
    } catch (e) {
      // 네이버 실패 시 카카오로 폴백
      try {
        return await _searchWithKakao(query);
      } catch (e2) {
        throw AddressSearchException('주소 검색에 실패했습니다.');
      }
    }
  }
}
```

**장점**:
- ✅ 안정성 향상 (한 서비스 장애 시 다른 서비스 사용)
- ✅ 사용자 경험 개선
- ✅ 무료 할당량 분산

---

## 📊 최종 비교표

| 항목 | 카카오 | 네이버 | 승자 |
|------|--------|--------|------|
| **무료 할당량** | 일 10만 건 | 월 300만 건 | 네이버 (관리 용이) |
| **안정성** | 양호 | 우수 | 네이버 |
| **정확도** | 우수 | 우수 | 동점 |
| **개발 편의성** | 우수 | 양호 | 카카오 |
| **추가 기능** | 제한적 | 지도 포함 | 네이버 |
| **비용** | 비슷 | 비슷 | 동점 |
| **확장성** | 제한적 | 우수 | 네이버 |

---

## 🎯 최종 추천

### 1순위: **네이버 지도 API** ⭐⭐⭐⭐⭐

**이유**:
- 안정성이 가장 중요 (의료 서비스)
- 월 단위 할당량 관리 용이
- 향후 지도 기능 확장 가능
- 한국 시장에서 검증됨

### 2순위: **하이브리드 접근** ⭐⭐⭐⭐

**이유**:
- 최고의 안정성
- 무료 할당량 분산
- 사용자 경험 최적화

### 3순위: **카카오 주소 검색 API** ⭐⭐⭐

**이유**:
- 개발 편의성 높음
- 하지만 안정성 우려

---

## 💡 구현 권장사항

1. **초기 구현**: 네이버 지도 API 사용
2. **백업 계획**: 카카오 API를 폴백으로 준비
3. **모니터링**: API 호출량 및 에러율 추적
4. **캐싱**: 자주 검색되는 주소는 로컬 캐싱

---

## 📚 참고 자료

- [네이버 클라우드 플랫폼 - 지도 API](https://www.ncloud.com/product/applicationService/maps)
- [카카오 디벨로퍼스 - 로컬 API](https://developers.kakao.com/docs/latest/ko/local/dev-guide)
- [네이버 지도 API 문서](https://api.ncloud-docs.com/docs/ai-naver-mapsgeocoding-geocode)
- [카카오 주소 검색 API 문서](https://developers.kakao.com/docs/latest/ko/local/dev-guide#search-by-keyword)


